osx_image: xcode7.3

#sudo: required
#dist: trusty

os: osx

#matrix:
#  include:
#    - os: osx

cache:
  directories:
  - node_modules
  - $HOME/.electron
  - $HOME/.cache

language: node_js

#branches:
#  only:
#    - develop

#node_js:
#- "4"

#before_install:
# win dependencies
#- brew update
#- brew install wine --without-x11 mono
# linux dependencies
#- brew install gnu-tar graphicsmagick xz


install:
- nvm install 6
- npm install -g meteor-build-client
- npm install -g gulp
- npm install
- npm prune

before_script:
#  - "export DISPLAY=:99.0"
#  - "sh -e /etc/init.d/xvfb start"
#  - "sleep 3" # give xvfb some time to start
  - "curl https://install.meteor.com/ | sh"
  - "gulp update-nodes --platform mac"

script:
- "npm run ci"

#notifications:
#  email:
#    - mist@ethereum.org
